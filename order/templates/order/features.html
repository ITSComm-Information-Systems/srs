{% for category in tab.form.list %}
  <div id="cat{{category.id}}" data-phoneset="{{category.name}}">
  <h3> {{category}} </h3>

    <div class="form-row">
      {% for type in category.type %}
        <div class="form-check col">
        <legend>{{type.label}}</legend>

          {% if type.label == 'Standard' %}
          Standard features included with this phone type:
            <ul>
              {% for feature in type %}
              <li>
                  {{feature}}
              </li>
              {% endfor %}
            </ul>
          {% elif type.label == 'Optional' %} 
            {% for feature in type %}
            <div class="form-check">
              <input class="form-check-input" type="checkbox" value="{{feature.id}}" name="{{category.name}}{{type.label}}" id="feature{{feature.id}}">
              <label class="form-check-label" for="feature{{feature.id}}">
                  {{feature}}
              </label>
            </div>
              {% endfor %}
            {% else %} 
            {% for feature in type %}
              <div class="form-check">
                <input class="form-check-input" type="radio" value="{{feature.id}}" name="{{category.name}}{{type.label}}" id="feature{{feature.id}}" required>                
                <label class="form-check-label" for="feature{{feature.id}}">{{feature}}</label>
                {% if feature.id == type.last %}
                <div class="invalid-feedback">Please choose one.</div>
                {% endif %}
              </div>
              {% endfor %}
          {% endif %}
    </div>
    {% endfor %}
  </div>

  </div>
{% endfor %}
