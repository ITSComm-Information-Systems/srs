{% extends 'base.html' %}
{% block content %}

<div class="container">
  <h1>
    Chartfield Change
    <small class="text-muted">
      for <strong id="dept_title">Department: {{ dept_info.dept_id }} - {{ dept_info.dept_name }}</strong>
    </small>
  </h1>

  <form method="POST">{% csrf_token %}
    <div class="row align-items-start mb-4" id="select_dept">
      <div class="input-group" style="width:600px">
        <div class="input-group-prepend">
            <label class="input-group-text" for="cf_dropdown">
                Select Department
            </label>
        </div>
        <select name="deptids" class="custom-select" id="chart_deptids" value="{{ dept }}">
            <option disabled selected>{{ dept_info.dept_id }}</option>
            {% for dept in deptids %}
            <option name="dept" value="{{ dept }}">{{ dept }}</option>
            {% endfor %}
        </select>
      </div>
    </div>

  </form> 

  <form method="POST">
    <ul class="nav justify-content-center nav-pills" id="chartchange_nav" role="tablist">
      <li class="nav-item">
        <a class="nav-link disabled" onclick="tab_func1()" data-toggle="tab" id="cfc-1" href="#cf-1" role="tab" name="Select Current Chartfield" aria-selected="false">Select Current Chartfield</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" onclick="tab_func2()" data-toggle="tab" id="cfc-2" href="#cf-2" role="tab" name="Select User IDs" aria-selected="false">Select User IDs</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" onclick="tab_func3()" data-toggle="tab" id="cfc-3" href="#cf-3" role="tab" name="Select New Chartfield" aria-selected="false">Select New Chartfield</a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" onclick="tab_func4()" data-toggle="tab" id="cfc-4" href="#cf-4" role="tab" name="Review & Submit" aria-selected="false">Review & Submit</a>
      </li>
    </ul>

    <div class="tab-content" id="cf-pills-tabContent">
      <div class="tab-pane fade" id="cf-1" role="tabpanel" aria-labelledby="pills-contact-tab">
        {% include choose_cf_template %}
      </div>
      <div class="tab-pane fade" id="cf-2" role="tabpanel" aria-labelledby="pills-contact-tab">
        {% include choose_users_template %}
      </div>
      <div class="tab-pane fade" id="cf-3" role="tabpanel" aria-labelledby="pills-contact-tab">
        {% include assign_new_template %}
      </div>
      <div class="tab-pane fade" id="cf-4" role="tabpanel" aria-labelledby="pills-contact-tab">
        {% include review_submit_template %}
      </div>

      <div style="overflow:auto;">
        <div style="float:right;">
          <button type="button" class="btn btn-primary" id=cfPrevBtn>Previous</button>
          <button type="button" class="btn btn-primary" id=cfNextBtn>Next</button>
        </div>
      </div>
    </div>

  </form>
</div>

{% endblock %}

{% block js %}
<!-- <script type="text/javascript" src="/static/select.js"></script> -->
<script src="/static/js/chartchange.js"></script>

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.10.18/sl-1.3.0/datatables.min.css"/>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.18/sl-1.3.0/datatables.min.js"></script>
{% endblock %}