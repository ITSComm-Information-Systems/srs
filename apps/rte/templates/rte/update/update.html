{% extends 'base.html' %}

{% block content %}

<h1>{{ title }}</h1>

<form action='select-times/' method='post' onsubmit='return validate()'>{% csrf_token %}
	{% comment %}
	<div class='form-group col-md-6'>
		<label for="techid"><strong>Tech ID</strong></label>
	    <input type="text" class="form-control" id="techid" name='techid'>
	</div>
	<div class='form-row col-md-6'>
		<div class='form-group'>
			<label for="date-start"><strong>From Date</strong></label>
		    <input type="date" class="form-control" id="date-start" name='date-start'>
		</div>
		<div class='form-group'>
			<label for="date-end"><strong>To Date</strong></label>
	    	<input type="date" class="form-control" id="date-end" name='date-end'>
		</div>
	</div>
	<button type="submit" class="btn btn-primary">Search</button>
	{% endcomment %}

	<div class="form-group" id="searchTech">
        <label for="techSearch" id="labelTechSearch">
            <strong>Search for a Tech Name or Tech ID</strong>
        </label>
        <small id="buildingTechBlock" class="form-text text-muted">
            Search for the tech name or tech ID whose time you'd like to enter.
        </small>
    	<div class='form-group'>
    		<div class='form-inline'>
		        <input name='techSearch' autocomplete='off' id="techSearch" class="form-control" type="text" aria-describedby="buildingTechBlock"
		            placeholder="Search...">
		        <button class='btn btn-primary' type='submit'>Search</button>
		    </div>
	        <div role=”alert” class="invalid-feedback" id='error-tech-id'><i class="fas fa-exclamation-triangle"
	            aria-label="Icon signfying that user must enter a value"></i>Please enter a tech ID.
	        </div>
	    </div>
  	</div>

  	<div class='col-6'>
	    <table id="techTable" class="table table-hover" aria-live=”polite”>
	        {% for tech in all_techs %}
	            <tr tabindex="0"  id="{{ tech.labor_code }}" role="button" aria-label="Select tech 
	                {{ tech.labor_name_display2 }} with tech ID of {{ tech.labor_code }}">
	                <td >{{ tech.labor_code }}</td>
	                <td name="techName">{{ tech.labor_name_display2 }}</td>
	            </tr>
	        {% endfor %}
	    </table>
	</div>
</form>

<div class='alert alert-danger mt-2' hidden id='error-notice'></div>

{% endblock %}

{% block js %}
<script src="/static/js/rte/update.js"></script>
{% endblock %}