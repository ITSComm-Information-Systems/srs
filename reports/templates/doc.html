{% extends 'base.html' %}
{% block content %}
<h1>{{title}}</h1>
<div class='row'>
    <div class='col-8'>
        <form action="{{ form_action }}" method="POST" name="Select">{% csrf_token %}
            <div class="form-group col-8">
                <label for="doc_depts" id="depts"><strong>Select Department</strong></label>
                <select class="form-control" name="select_dept" id="doc_depts" aria-labelledby="depts" size='{{ names|length }}' required>
                    {% for dept in names %}
                    <option value="{{ dept.deptid }}">{{ dept.deptid }} - {{ dept.dept_name }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group col-8">
                <label for="doc_bill_date" id="billingDate"><strong>Select Billing Date</strong></label>
            	<select class="form-control" name="billing_date" id="doc_bill_date" size='{{ dates|length }}' aria-labelledby="billingDate" required>
                    {% for d in dates %}
                    <option value="{{ d }}">{{ d }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group col-8">
                <label for="doc_chartcom" id="docChartfield"><strong>Select Chartfield(s)</strong></label>
                <div class="mt-0 mb-1">
                    <small class="text-muted form-text" id="chartfieldInstructions">
                            To select multiple, on Mac press and hold “Command” and select. On PC, press and hold “Ctrl” and select.
                    </small>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="select-all">
                    <label class="form-check-label" for="select-all">
                        <strong>Select All</strong>
                    </label>
                </div>
                <select multiple="multiple" class="form-control" required aria-describedby="chartfieldInstructions" aria-labelledby="docChartfield" name="chartcoms[]" id="doc_chartcom">
                    {% for cf in dept_cfs %}
                    <option value="{{ cf }}">{{ cf }}</option>
                    {% endfor %}
                </select>
            </div>
            <strong id="error_message" role="alert" class="hidden">Please select a chartfield.</strong>
            <input id="generate" type='submit' value='Generate Report' class="btn btn-primary mt-2" disabled>
        </form>
    </div>
    
    <div class="col-4 float-right">
        <div class="alert alert-secondary hlinks">
            <p class="h4 alert-heading">About this Report</p>
            {% autoescape off %}
            {{ instructions.bodytext }}
            {% endautoescape %}

        </div>
    </div>
</div>

{% endblock %}

{% block js %}

<script src="/../static/doc.js"></script> 
<script src="/static/select.js"></script>

{% endblock %}
