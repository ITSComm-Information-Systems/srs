{% extends 'base.html' %}
{% block content %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<h1>Toll Statements</h1>
{% comment %} <h1>Toll Statements</h1>
<div id="main-content" class="container" role="main">
    <div class="container" role="main">
        <div class="row">
            <div class="col-lg-12">
                <div class="message">
                    <hr class="style1">
                    <p>
                        This report is currently under construction.<br>
                        If you would like to run this report, please visit the Online Service Center and click on Departmental Telephone Service Metrics under reports.
                    </p>
                    <a href="https://blue.itcom.itd.umich.edu/UofM/WebObjects/OnlineServiceCenter.woa/1/" class="btn btn-outline-primary" role="button">Online Service Center</a>
                    
                </div>
            </div>
        </div>
    </div>
</div> {% endcomment %}
<div class="container">
    <form action="/reports/tolls/downloads" method="POST" onsubmit="return validate()" name="Select">{% csrf_token %}
        <div class="form-group col-md-6">     
            {% if depts %}
            <h5>Department ID</h5>
                <select class="form-control" style='font-size:16px' requried type="select" name="dept_id" id="tolls_deptids" value="{{ i }}" onchange="display_dept({{dept_names}})">
                    <option></option>
                    {% for dept in depts %}
                    <option value="{{ dept }}">{{ dept }}</option>
                    {% endfor %}
                </select>
            <p id="display"></p>
            <p></p>
            {% endif %}
            <h5>Billing period</h5>
                <select class="form-control" style='font-size:16px' type="select" name="bill_period" id="tolls_billing" value="{{ i }}">
                    <option></option>
                    {% for i in periods %}
                    <option value="{{ i }}">{{ i }}</option>
                    {% endfor %}
                </select>
                <p></p>
                <p></p>
            <p><input type='submit' value='Submit' class="btn btn-primary"></p>
        </div>
    </form>
</div>


<script>
    function validate() {
        var bill_date = document.forms["Select"]["bill_period"];
        var deptid = document.forms["Select"]["dept_id"];

        if (bill_date.selectedIndex < 1) {
            window.alert("Please select a billing date.");
            bill_date.focus();
            return false;
        }
        if (deptid.selectedIndex < 1) {
            deptid.focus();
            window.alert("Please select a department.");
            return false;
        }
        return true;
    }

    function display_dept(depts) {
        var deptid = document.forms["Select"]["dept_id"];
        var index = deptid.selectedIndex - 1;
        document.getElementById("display").innerHTML = depts[index];
    }
</script>

{% endblock %}

{% block js %}
<script type="text/javascript" src="/static/select.js"></script>
{% endblock %}
