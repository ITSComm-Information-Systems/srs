{% extends 'base.html' %}
{% block content %}

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <form action="/reports/soc/" method="POST" onsubmit="return validate()" name="Select">{% csrf_token %}
    {% if depts %}



        <h2>Select Unit Grouping</h2>
        <form action="">
        <input type="radio" style='font-size:20px' name = "generate_by" checked>  Department ID
            <select multiple style='font-size:16px' requried type="select" name="dept_id" id="month" value="{{ i }}" onchange="display_dept({{dept_names}})">
                <option value="%">--Select--</option>
                {% for dept in depts %}
                <option value="{{ dept }}">{{ dept }}</option>
                {% endfor %}
            </select>
        </br>
        <p></p>
        <p>-or-</p>
        <p></p>
        <input type="radio" style='font-size:20px' name = "generate_by">  Department Group
            <select style='font-size:16px' requried type="select" name="dept_grp" id="month" value="{{ i }}" onchange="display_dept({{dept_names}})">
                <option value="%">--Select--</option>
                {% for group in groups %}
                <option value="{{ group }}">{{ group }}</option>
                {% endfor %}
            </select>
        </br>
        <p></p>
        <p>-or-</p>
        <p></p>
        <input type="radio" style='font-size:20px' name = "generate_by">  Department Group VP Area
            <select style='font-size:16px' requried type="select" name="dept_grp_vp_area" id="month" value="{{ i }}" onchange="display_dept({{dept_names}})">
                <option value="%">--Select--</option>
                {% for vp in vps %}
                <option value="{{ vp }}">{{ vp }}</option>
                {% endfor %}
            </select>
        </br>
        </form>




        <h2>Choose Date Range</h2>
        <form action= "">
        <input type="radio" style='font-size:20px' name = "period" checked>  Fiscal Year
            <select style='font-size:16px' requried type="select" name="dept_grp" id="month" value="{{ i }}" onchange="display_dept({{dept_names}})">
                <option value="%">--Select--</option>
                {% for year in fiscal %}
                <option value="{{ year }}">{{ year }}</option>
                {% endfor %}
            </select>
        </br>
        <p></p>
        <p>-or-</p>
        <p></p>
        <input type="radio" style='font-size:20px' name = "period">  Calender Year
            <select style='font-size:16px' requried type="select" name="dept_grp" id="month" value="{{ i }}" onchange="display_dept({{dept_names}})">
                <option value="%">--Select--</option>
                {% for year in calender %}
                <option value="{{ year }}">{{ year }}</option>
                {% endfor %}
            </select>
        </br>
        <p></p>
        <p>-or-</p>
        <p></p>
        <input type="radio" style='font-size:20px' name = "period">  Single Month
            <select style='font-size:16px' requried type="select" name="dept_grp" id="month" value="{{ i }}" onchange="display_dept({{dept_names}})">
                <option value="%">--Select--</option>
                {% for month in months %}
                <option value="{{ month }}">{{ month }}</option>
                {% endfor %}
            </select>
            <select style='font-size:16px' requried type="select" name="dept_grp" id="month" value="{{ i }}" onchange="display_dept({{dept_names}})">
                <option value="%">--Select--</option>
                {% for year in calender %}
                <option value="{{ year }}">{{ year }}</option>
                {% endfor %}
            </select>
        </br>
        <p></p>
        <p>-or-</p>
        <p></p>
        <input type="radio" style='font-size:20px' name = "period">  Month-to-month
            <select style='font-size:16px' requried type="select" name="dept_grp" id="month" value="{{ i }}" onchange="display_dept({{dept_names}})">
                <option value="%">--Select--</option>
                {% for month in months %}
                <option value="{{ month }}">{{ month }}</option>
                {% endfor %}
            </select>
            <select style='font-size:16px' requried type="select" name="dept_grp" id="month" value="{{ i }}" onchange="display_dept({{dept_names}})">
                <option value="%">--Select--</option>
                {% for year in calender %}
                <option value="{{ year }}">{{ year }}</option>
                {% endfor %}
            </select>
            <span>to</span>
            <select style='font-size:16px' requried type="select" name="dept_grp" id="month" value="{{ i }}" onchange="display_dept({{dept_names}})">
                <option value="%">--Select--</option>
                {% for month in months %}
                <option value="{{ month }}">{{ month }}</option>
                {% endfor %}
            </select>
            <select style='font-size:16px' requried type="select" name="dept_grp" id="month" value="{{ i }}" onchange="display_dept({{dept_names}})">
                <option value="%">--Select--</option>
                {% for year in calender %}
                <option value="{{ year }}">{{ year }}</option>
                {% endfor %}
            </select>
        </br>
        </form>

     {% endif %}

     <p></p>
     <p></p>
    <p><input type='submit' value='Submit' class="btn btn-primary"></p>
</form>

<table class="table table-hover table-headings">
        <thead>
            <tr>
                    <th>CSV</th>
                    <th>PDF</th>
                    <th>Condensed PDF</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                {% comment %} have to put department on page when selection occurs  {% endcomment %}
                    <td> 
                        <a href='download/csv/{{bill_month}}_{{bill_year}}/{{dept_id}}/'><i class="fas fa-file-csv" style="font-size:20px;color:green"></i></i> CSV Download</a></td>
                    <td> 
                        <a href='download/pdf/{{bill_month}}_{{bill_year}}/{{dept_id}}/'><i class="fa fa-file-pdf-o" style="font-size:20px;color:red"></i> PDF Download</a></td>
                    <td>
                        <a href='download/cond-pdf/{{bill_month}}_{{bill_year}}/{{dept_id}}/'><i class="fa fa-file-pdf-o" style="font-size:20px;color:red"></i> Condensed PDF Download</a></td>
            </tr>
        </tbody>
    </table>
{% endblock %}