{% extends 'base.html' %}
{% block content %}
<h1>{{ title }}</h1>
<form action="/reports/soc/report" method="POST" onsubmit="return validate()" name="Select">{% csrf_token %}
    {% if depts %}

    <div class="col-6">
        <fieldset>
            <legend class="h2">
                Select Unit Grouping
            </legend>
            <div class="form-group">
                <input type="radio" name="unitGroupingGroup" id="deptid" value='1'>
                <label for="deptid"><strong>Department ID</strong></label>
                <div id="department_id_div">
                    <label for="departmentIdSelection"><strong>Select Depaerment ID(s)</strong></label>
                    <select class="custom-select" multiple name="department_id" id="departmentIdSelection" size="{{ depts|length }}">
                        {% for dept in depts %}
                        <option value="{{ dept }}">{{ dept }}</option>
                        {% endfor %}
                    </select>
                    <input type="checkbox" name="selectall" id="deptidall" value='2'>
                    <label for="deptidall">Select All Departments (you have access to)</label>
                </div>
            </div>

            <div class="form-group">
                <input type="radio" name="unitGroupingGroup" id="deptgroup" value='3'>
                <label for="deptgroup"><strong> Department Group</strong></label>
                <div id="department_group_div">
                    <label for="department_group"><strong>Select a Department Group</strong></label>
                    <select class="custom-select" name="department_group" onchange="display_active({{active}})"
                        id='department_group' size="{{ groups_descr|length }}">
                        {% for group in groups_descr %}
                        <option value="{{ group }}">{{ group }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="form-group">
                {% comment %} <span id="display">(Fiscal Years Active)</span> {% endcomment %}
                <input type="radio" name="unitGroupingGroup" id="deptvp" value='4'>
                <label for="deptvp"><strong> Department Group VP Area</strong></label>
                <div id="department_vp_div">
                    <label for="department_vp"><strong>Select a Department VP</strong></label>
                    <select class="custom-select" name="department_vp" id="department_vp" size="{{ vps|length }}">
                        {% for vp in vps %}
                        <option value="{{ vp }}">{{ vp }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </fieldset>
        <!-- <h2>Select Unit Grouping</h2> -->
    </div>



    <div class="col-6">
        <fieldset>
            <legend class="h2">
                Select a Date Range
            </legend>
            <div class="form-group">
                <input type="radio" name="dateRangeGroup" id="fiscal" value='1'>
                <label for="fiscal"><strong> Fiscal Year</strong></label>
                <div id="fiscalyear_div" class="form-group">
                    <label for="fiscalyear"><strong>Select a Fiscal Year</strong></label>
                    <select class="custom-select" name="FISCALYEAR" id="fiscalyear" size="{{ fiscal|length }}">
                        {% for year in fiscal %}
                        <option value="{{ year }}">{{ year }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="form-group">
                <input type="radio" name="dateRangeGroup" id="calendar" value='2'>
                <label for="calendar"><strong>Calender Year</strong></label>
                <div id="calendaryear_div" class="form-group">
                    <label for="calendaryear"><strong>Select a Calendar Year</strong></label>
                    <select class="custom-select" name="CALENDARYEAR" id="calendaryear" size="{{ calendar|length }}">
                        {% for year in calendar %}
                        <option value="{{ year }}">{{ year }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="form-group">
                <input type="radio" name="dateRangeGroup" id="single" value='3'>
                <label for="single"><strong>Single Month</strong></label>
                <div id='singlemonth'>
                    <div class="form-group">
                        <label for="singlemonthselect"><strong>Select a Month</strong></label>
                        <select class="custom-select" name="SINGLEMONTH" id="singlemonthselect" size="{{ months|length }}">
                            {% for month in months %}
                            <option value="{{ month }}">{{ month }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="singlemonthyear"><strong>Select a Year</strong></label>
                        <select class="custom-select" name="SINGLEYEAR" id="singlemonthyear" size="{{ calendar|length }}">
                            {% for year in calendar %}
                            <option value="{{ year }}">{{ year }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <input type="radio" name="dateRangeGroup" id="multiple" value='4'>
                <label for="multiple"><strong>Month-to-month</strong></label>
                <div id="multimonth">
                    <strong>Select Billing Range</strong>
                    <select class="custom-select" name="FIRSTMONTH" size="{{ months|length }}">
                        {% for month in months %}
                        <option value="{{ month }}">{{ month }}</option>
                        {% endfor %}
                    </select>
                    <select class="custom-select" name="FIRSTYEAR" size="{{ calendar|length }}">
                        {% for year in calendar %}
                        <option value="{{ year }}">{{ year }}</option>
                        {% endfor %}
                    </select>
                    <span>to</span>
                    <select class="custom-select" name="SECONDMONTH" size="{{ months|length }}">
                        {% for month in months %}
                        <option value="{{ month }}">{{ month }}</option>
                        {% endfor %}
                    </select>
                    <select class="custom-select" name="SECONDYEAR" size="{{ calendar|length }}">
                        {% for year in calendar %}
                        <option value="{{ year }}">{{ year }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </fieldset>
        <!-- <h2>Select Date Range</h2> -->
    </div>

    {% endif %}
    <input type='submit' value='Generate Report' class="btn btn-primary">
</form>
{% endblock %}

{% block js %}
<script>
    $(document).ready(function () {
        $("#department_id_div").hide();
        $("#department_group_div").hide();
        $("#department_vp_div").hide();

        $("#fiscalyear_div").hide();
        $("#calendaryear_div").hide();
        $("#singlemonth").hide();
        $("#multimonth").hide();

        $("#deptid").change(function () {
            $("#department_id_div").show();
            $("#department_group_div").hide();
            $("#department_vp_div").hide();
        });

        $("#deptgroup").change(function () {
            $("#department_id_div").hide();
            $("#department_group_div").show();
            $("#department_vp_div").hide();
        });

        $("#deptvp").change(function () {
            $("#department_id_div").hide();
            $("#department_group_div").hide();
            $("#department_vp_div").show();
        });

        $('#fiscal').change(function () {
            $("#fiscalyear_div").show();
            $("#calendaryear_div").hide();
            $("#singlemonth").hide();
            $("#multimonth").hide();
        });

        $('#calendar').change(function () {
            $("#fiscalyear_div").hide();
            $("#calendaryear_div").show();
            $("#singlemonth").hide();
            $("#multimonth").hide();
        });

        $('#single').change(function () {
            $("#fiscalyear_div").hide();
            $("#calendaryear_div").hide();
            $("#singlemonth").show();
            $("#multimonth").hide();
        });

        $('#multiple').change(function () {
            $("#fiscalyear_div").hide();
            $("#calendaryear_div").hide();
            $("#singlemonth").hide();
            $("#multimonth").show();
        });


    });
</script>
{% endblock %}